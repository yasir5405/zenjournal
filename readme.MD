# ZenJournal ğŸ§˜

**A Mental Health Journaling + AI-Powered Reflection Web Application**

ZenJournal is a production-ready, full-stack MERN application designed to help users log their daily thoughts, track their mood patterns, and receive AI-powered insights into their mental health journey. The application features a modern React 19 frontend with TypeScript, comprehensive analytics, and a robust Node.js backend with MongoDB for secure data persistence.

## ğŸ¯ Project Overview

ZenJournal provides a secure, feature-rich platform for users to document and analyze their mental health journey through intelligent journaling. Users can create, manage, and search journal entries, track mood patterns over time, view detailed analytics and trends, and receive AI-powered insights generated by Google Gemini. The application prioritizes privacy, security, and user experience with a beautiful, responsive interface.

## âœ¨ Features

### Current Features âœ…
- **User Authentication**
  - Secure user signup and login system
  - JWT-based authentication with HTTP-only cookies
  - Password hashing with bcrypt (10 rounds)
  - Protected routes for authenticated users only

- **Journal Management**
  - Create new journal entries with title and content
  - View all journal entries in a paginated grid layout
  - Update existing journal entries
  - Delete unwanted journal entries
  - Search functionality across titles and content
  - Sorting options (newest, oldest, alphabetical)
  - Character and word count tracking
  - Unsaved changes protection

- **Analytics Dashboard**
  - Real-time mood distribution analysis
  - Current and longest streak tracking
  - Mood trends visualization (7/30/90 day periods)
  - Weekly activity calendar heatmap
  - Interactive charts using Recharts library
  - Dominant mood detection with visual indicators

- **Mood Calendar**
  - Interactive calendar view with mood visualization
  - Color-coded mood indicators per day
  - AI-powered mood insights using Google Gemini
  - Mood statistics and trends analysis
  - 8 mood categories: happy, sad, grateful, angry, anxious, calm, energetic, tired
  - Monthly mood tracking with navigation
  - Multiple entries per day support
  - Automatic mood detection from journal content

- **Modern UI/UX**
  - Responsive design with Tailwind CSS
  - Beautiful component library with Radix UI
  - Persistent sidebar navigation with collapsible sections
  - Modal-based entry creation and editing
  - Toast notifications for user feedback
  - Loading skeletons for better UX
  - Dark mode support with theme toggle

- **Security & Privacy**
  - JWT tokens stored in HTTP-only cookies
  - Password validation and hashing
  - Protected API endpoints
  - User data isolation (users only see their own entries)

### Planned Features ğŸš§
- **Settings & Preferences**
  - Profile management and customization
  - Privacy settings
  - Notification preferences
  - Data export functionality (PDF/Text)
- **Enhanced Features**
  - Tags and categories for entries
  - Password reset via email
  - Goals and progress tracking
  - Advanced AI insights and recommendations
  - Multi-language support
  - Entry templates
  - Reminders and notifications

## ğŸ› ï¸ Tech Stack

### Frontend
- **React 19** - Modern UI library
- **TypeScript** - Type-safe JavaScript
- **Vite** - Fast build tool and dev server
- **React Router DOM** - Client-side routing
- **Redux Toolkit** - State management
- **Redux Persist** - Persist Redux state
- **Tailwind CSS** - Utility-first CSS framework
- **Radix UI** - Headless UI components
- **React Hook Form** - Form handling
- **Axios** - HTTP client
- **Lucide React** - Icon library
- **Recharts** - Chart and data visualization library
- **date-fns** - Modern date utility library
- **Motion** - Animation library

### Backend
- **Node.js** - JavaScript runtime
- **Express.js 5** - Web framework
- **MongoDB** - NoSQL database
- **Mongoose 8** - MongoDB ODM
- **JWT** - JSON Web Tokens for authentication
- **bcrypt** - Password hashing
- **Zod** - Schema validation
- **CORS** - Cross-origin resource sharing
- **dotenv** - Environment variable management
- **Vercel AI SDK** - AI integration framework
- **Google Gemini API** - AI-powered insights generation

### Development Tools
- **ESLint** - Code linting
- **Nodemon** - Auto-restart server
- **PostCSS** - CSS processing
- **Autoprefixer** - CSS vendor prefixes

## ğŸ“ Project Structure

```
backend-project/
â”œâ”€â”€ backend/                    # Node.js/Express backend
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ db.js              # MongoDB connection
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ auth.controller.js  # Authentication logic
â”‚   â”‚   â”œâ”€â”€ journal.controller.js # Journal CRUD operations
â”‚   â”‚   â”œâ”€â”€ analytics.controller.js # Analytics and mood trends
â”‚   â”‚   â””â”€â”€ mood.controller.js  # Mood tracking and AI insights
â”‚   â”œâ”€â”€ middlewares/
â”‚   â”‚   â”œâ”€â”€ auth.middleware.js  # JWT verification
â”‚   â”‚   â””â”€â”€ error.middleware.js # Global error handling
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ user.model.js      # User schema
â”‚   â”‚   â””â”€â”€ journal.model.js   # Journal entry schema
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.route.js      # Authentication routes
â”‚   â”‚   â”œâ”€â”€ journal.route.js   # Journal routes
â”‚   â”‚   â””â”€â”€ mood.route.js      # Mood tracking routes
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ validation.js      # Zod validation schemas
â”‚   â”œâ”€â”€ docs/
â”‚   â”‚   â”œâ”€â”€ SRS.md            # Software Requirements Specification
â”‚   â”‚   â””â”€â”€ FR.md             # Functional Requirements
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ index.js              # Server entry point
â”‚
â”œâ”€â”€ frontend/                  # React/TypeScript frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/              # API integration
â”‚   â”‚   â”œâ”€â”€ components/       # Reusable UI components
â”‚   â”‚   â”‚   â””â”€â”€ ui/           # Shadcn/ui components
â”‚   â”‚   â”œâ”€â”€ hooks/           # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ lib/             # Utility functions
â”‚   â”‚   â”œâ”€â”€ pages/           # Application pages
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx    # Main dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ Analytics.tsx    # Analytics dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ MoodCalendar.tsx # Mood calendar view
â”‚   â”‚   â”‚   â”œâ”€â”€ Entries.tsx      # All entries page
â”‚   â”‚   â”‚   â””â”€â”€ CreateEntry.tsx  # Entry creation
â”‚   â”‚   â”œâ”€â”€ store/           # Redux store configuration
â”‚   â”‚   â”œâ”€â”€ types/           # TypeScript type definitions
â”‚   â”‚   â”œâ”€â”€ App.tsx          # Main application component
â”‚   â”‚   â””â”€â”€ main.tsx         # Application entry point
â”‚   â”œâ”€â”€ public/              # Static assets
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts       # Vite configuration
â”‚
â””â”€â”€ readme.MD                 # Project documentation
```

## ğŸš€ Getting Started

### Prerequisites
- **Node.js** (v18 or higher)
- **MongoDB** (local installation or MongoDB Atlas account)
- **npm or yarn** package manager
- **Google Gemini API Key** (free tier available)

### Installation

1. **Clone the repository**
   ```bash
   git clone https://github.com/yasir5405/zenjournal.git
   cd backend-project
   ```

2. **Backend Setup**
   ```bash
   cd backend
   npm install
   ```

3. **Frontend Setup**
   ```bash
   cd ../frontend
   npm install
   ```

4. **Environment Configuration**
   
   Create a `.env` file in the **backend** directory with the following variables:
   ```env
   PORT=5000
   MONGO_URI=mongodb://localhost:27017/zenjournal
   # Or use MongoDB Atlas:
   # MONGO_URI=mongodb+srv://<username>:<password>@cluster.mongodb.net/zenjournal
   
   JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
   GOOGLE_GENERATIVE_AI_API_KEY=your-gemini-api-key-here
   ```
   
   > **Important:** 
   > - Replace `JWT_SECRET` with a strong, random secret in production
   > - Get your free Gemini API key from [Google AI Studio](https://makersuite.google.com/app/apikey)
   > - For MongoDB Atlas, create a free cluster at [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)

5. **Start the Applications**
   
   **Backend** (in `/backend` directory):
   ```bash
   npm run dev  # Development with nodemon (auto-restart)
   # or
   npm start    # Production mode
   ```
   
   **Frontend** (in `/frontend` directory):
   ```bash
   npm run dev  # Development server with hot reload
   ```

6. **Access the Application**
   - **Frontend**: http://localhost:5173
   - **Backend API**: http://localhost:5000
   - **API Status**: http://localhost:5000 (returns welcome message)

7. **First Time Setup**
   - Navigate to http://localhost:5173
   - Click "Sign Up" to create your account
   - Start journaling and exploring features!

### Build for Production

**Frontend**:
```bash
cd frontend
npm run build  # Creates optimized production build in /dist
npm run preview  # Preview production build locally
```

**Backend**:
The backend runs in production mode with `npm start` and serves the API.

## ğŸ“š API Documentation

### Authentication Endpoints

#### POST `/auth/signup`
Register a new user
```json
{
  "name": "John Doe",
  "email": "john@example.com", 
  "password": "securePassword123"
}
```

#### POST `/auth/login`
Authenticate user and receive JWT token
```json
{
  "email": "john@example.com",
  "password": "securePassword123"
}
```

#### POST `/auth/logout`
Logout user and clear authentication cookies

#### GET `/auth/me`
Get current user information (requires authentication)

### Journal Endpoints

#### GET `/journal`
Get paginated journal entries for authenticated user
- Query parameters: `page`, `limit`, `search`, `sort`

#### POST `/journal`
Create a new journal entry
```json
{
  "title": "My Daily Reflection",
  "content": "Today was a productive day..."
}
```

#### GET `/journal/:id`
Get a specific journal entry by ID

#### PUT `/journal/:id`
Update an existing journal entry
```json
{
  "title": "Updated Title",
  "content": "Updated content..."
}
```

#### DELETE `/journal/:id`
Delete a journal entry

### Analytics Endpoints

#### GET `/journal/analytics/overview`
Get analytics overview including mood distribution and streaks

#### GET `/journal/analytics/trends`
Get mood trends over time
- Query parameters: `period` (7, 30, or 90 days)

#### GET `/journal/analytics/activity`
Get activity calendar data for the current month

### Mood Tracking Endpoints

#### GET `/mood/calendar`
Get mood calendar data for a specific month
- Query parameters: `month`, `year`

#### GET `/mood/insights`
Get AI-powered mood insights based on the last 30 days of entries

#### GET `/mood/stats`
Get mood statistics and distribution
- Query parameters: `days` (default: 30)

#### POST `/mood/log`
Log a quick mood entry without a full journal
```json
{
  "mood": "happy",
  "note": "Feeling great today!"
}
```

## ğŸ”’ Security Features

- **Password Security**: Passwords are hashed using bcrypt with 10 salt rounds before storage
- **JWT Authentication**: Secure token-based authentication with HTTP-only cookies to prevent XSS attacks
- **Input Validation**: All user inputs validated using Zod schemas to prevent injection attacks
- **CORS Protection**: Configured for specific trusted origins only
- **Error Handling**: Centralized error handling that doesn't expose sensitive stack traces or data
- **Route Protection**: Authentication middleware protects all sensitive endpoints
- **User Data Isolation**: Users can only access and modify their own data
- **Environment Variables**: Sensitive configuration stored securely in environment variables
- **MongoDB Security**: Mongoose ODM with schema validation and sanitization

## ğŸ“Š Application Status

**Current Version**: 1.0.0 (Production Ready)

**Development Status**: âœ… **Feature Complete - Active Development**

**Completed Milestones**:
- âœ… Full authentication system with JWT
- âœ… Complete journal CRUD operations with search and pagination
- âœ… Comprehensive analytics dashboard with multiple visualizations
- âœ… Mood tracking and calendar with 8 mood categories
- âœ… AI-powered insights using Google Gemini
- âœ… Responsive UI with dark mode support
- âœ… Real-time streak tracking and activity monitoring
- âœ… Settings pages scaffolding (Profile, Privacy, Notifications, Export)

**In Progress**:
- ğŸš§ Settings functionality implementation
- ğŸš§ Data export feature
- ğŸš§ Enhanced AI insights with more personalization

**Known Issues**: None critical - minor UI refinements in progress

## ğŸ‘¥ Team

Developed by a collaborative team of full-stack developers:

- **Yasir Naseem** - Lead Full-stack Developer & Project Lead
- **Ayush Singh** - Full-stack Developer  
- **Dhrupad Kapoor** - Full-stack Developer
- **Arvin** - Full-stack Developer

## ğŸ™ Acknowledgments

- [Radix UI](https://www.radix-ui.com/) for accessible component primitives
- [Shadcn/ui](https://ui.shadcn.com/) for beautiful component patterns
- [Google Gemini](https://ai.google.dev/) for AI-powered insights
- [Recharts](https://recharts.org/) for data visualization
- [Lucide](https://lucide.dev/) for icon library
- MongoDB Atlas for database hosting
- Vercel AI SDK for AI integration framework

## ğŸ“„ License

This project is licensed under the ISC License.

## ğŸ¤ Contributing

We welcome contributions! Here's how you can help:

1. **Fork the repository**
2. **Create your feature branch**: `git checkout -b feature/AmazingFeature`
3. **Commit your changes**: `git commit -m 'Add some AmazingFeature'`
4. **Push to the branch**: `git push origin feature/AmazingFeature`
5. **Open a Pull Request** with a clear description of changes

### Contribution Guidelines
- Follow the existing code style and conventions
- Write clear commit messages
- Add comments for complex logic
- Test your changes thoroughly before submitting
- Update documentation if needed

## ğŸ› Bug Reports & Feature Requests

Found a bug or have a feature idea? Please open an issue on GitHub with:
- Clear description of the problem/feature
- Steps to reproduce (for bugs)
- Expected vs actual behavior
- Screenshots if applicable

## ğŸ“ Support

If you have any questions or need support:
- ğŸ“§ Open an issue on GitHub
- ğŸ’¬ Check existing issues for solutions
- ğŸ“– Review the documentation above

## ğŸ“œ Changelog

### Version 1.0.0 (Current - December 2024)
- âœ… Complete authentication system
- âœ… Full journal management with search and pagination
- âœ… Analytics dashboard with mood trends and activity tracking
- âœ… AI-powered mood insights
- âœ… Mood calendar with 8 mood categories
- âœ… Responsive design with dark mode
- âœ… Settings pages structure

---

**Built with â¤ï¸ for mental health and wellbeing**

*ZenJournal - Your personal space for mental health reflection and growth*